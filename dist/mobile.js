window.onload=function(){function e(){i||(3==s?s=1:s+=1,t(),n(-6))}function t(){for(var e=0;e<c.length;e++)"on"==c[e].className&&(c[e].className="");c[s-1].className="on"}function n(e){function t(){e<0&&+a.style.left.replace("rem","")>n||e>0&&+a.style.left.replace("rem","")<n?(a.style.left=+a.style.left.replace("rem","")+o+"rem",setTimeout(t,l)):(i=!1,a.style.left=n+"rem",n>-6&&(a.style.left="-18rem"),n<-18&&(a.style.left="-6rem"))}if(0!==e){i=!0;var n=+a.style.left.replace("rem","")+e,r=300,l=10,o=e/(r/l);t()}}function r(){o=setInterval(function(){e()},5e3)}function l(){clearInterval(o)}var o,a=(document.querySelector("#slider"),document.querySelector("#box")),c=document.getElementById("buttons").querySelectorAll("[data-index]"),s=1,i=!1;window.onscroll=function(){};var u;a.addEventListener("touchstart",function(e){u=e.targetTouches[0].pageX,l()}),a.addEventListener("touchmove",function(r){var l=r.targetTouches[0].pageX-u;if(r.preventDefault(),l>0){if(i)return;1==s?s=3:s-=1,t(),n(6)}else l<0&&e()}),a.addEventListener("touchend",function(){r()});for(var f=0;f<c.length;f++)c[f].onclick=function(){if("on"!=this.className){var e=parseInt(this.getAttribute("data-index")),r=-6*(e-s);s=e,t(),i||n(r)}};r()};