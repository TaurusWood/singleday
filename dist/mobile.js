window.onload=function(){function e(){var e=document.body.scrollTop||window.pageYOffset||document.documentElement.scrollTop,t=document.body.clientHeight||document.documentElement.clientHeight;e>=f?(u.style.position="fixed",u.style.marginTop=0):(u.style.position="initial",u.style.marginTop="0.2rem");for(var n=0;n<d.length;n++)if(d[n].offsetTop<e+t)for(var o=0;o<d[n].getElementsByTagName("img").length;o++)d[n].getElementsByTagName("img")[o].getAttribute("data-src")&&(d[n].getElementsByTagName("img")[o].src=d[n].getElementsByTagName("img")[o].getAttribute("data-src"),d[n].getElementsByTagName("img")[o].removeAttribute("data-src"))}function t(){m||(3==s?s=1:s+=1,n(),o(-6))}function n(){for(var e=0;e<c.length;e++)"on"==c[e].className&&(c[e].className="");c[s-1].className="on"}function o(e){function t(){e<0&&+i.style.left.replace("rem","")>n||e>0&&+i.style.left.replace("rem","")<n?(i.style.left=+i.style.left.replace("rem","")+r+"rem",setTimeout(t,l)):(m=!1,i.style.left=n+"rem",n>-6&&(i.style.left="-18rem"),n<-18&&(i.style.left="-6rem"))}if(0!==e){m=!0;var n=+i.style.left.replace("rem","")+e,o=200,l=10,r=e/(o/l);t()}}function l(){a=setInterval(function(){t()},5e3)}function r(){clearInterval(a)}var a,i=(document.querySelector("#slider"),document.querySelector("#box")),c=document.getElementById("buttons").querySelectorAll("[data-index]"),s=1,m=!1,u=document.querySelector("#nav"),f=u.offsetTop,d=document.querySelectorAll("li");window.onscroll=function(){e()};var g;i.addEventListener("touchstart",function(e){g=e.targetTouches[0].pageX,r()}),i.addEventListener("touchmove",function(e){var l=e.targetTouches[0].pageX-g;if(e.preventDefault(),l>0){if(m)return;1==s?s=3:s-=1,n(),o(6)}else l<0&&t()}),i.addEventListener("touchend",function(){l()});for(var y=0;y<c.length;y++)c[y].onclick=function(){if("on"!=this.className){var e=parseInt(this.getAttribute("data-index")),t=-6*(e-s);s=e,n(),m||o(t)}};l()};